(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"99Un":function(e,t,n){"use strict";n.r(t),n.d(t,"HomePageModule",(function(){return k}));var i=n("ofXK"),o=n("fXoL");n("HDdC"),n("DH7j"),n("lJxs"),n("XoHu"),n("Cfvw");let a=(()=>{class e{constructor(){this._accessors=[]}add(e,t){this._accessors.push([e,t])}remove(e){for(let t=this._accessors.length-1;t>=0;--t)if(this._accessors[t][1]===e)return void this._accessors.splice(t,1)}select(e){this._accessors.forEach(t=>{this._isSameGroup(t,e)&&t[1]!==e&&t[1].fireUncheck(e.value)})}_isSameGroup(e,t){return!!e[0].control&&e[0]._parent===t._control._parent&&e[1].name===t.name}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=o.Db({token:e,factory:e.\u0275fac}),e})(),s=(()=>{class e{}return e.\u0275mod=o.Fb({type:e}),e.\u0275inj=o.Eb({factory:function(t){return new(t||e)}}),e})(),r=(()=>{class e{}return e.\u0275mod=o.Fb({type:e}),e.\u0275inj=o.Eb({factory:function(t){return new(t||e)},providers:[a],imports:[s]}),e})();var c=n("tyNb");function d(e,t){if(1&e){const e=o.Lb();o.Kb(0,"div"),o.Kb(1,"h5",4),o.ac(2,"Introduction"),o.Jb(),o.Kb(3,"div"),o.Kb(4,"p",5),o.ac(5,"Vivre une vie \xe9panouie, c'est possible."),o.Jb(),o.Kb(6,"p",5),o.ac(7,"Vous avez d\xe9j\xe0 les r\xe9ponses aux probl\xe9matiques de votre vie quotidienne. "),o.Jb(),o.Kb(8,"p",5),o.ac(9,"Vous avez simplement besoin qu'on vous pose les bonnes questions."),o.Jb(),o.Kb(10,"p",5),o.ac(11,"Bonne nouvelle : je vais vous aider !"),o.Jb(),o.Kb(12,"a",6),o.Rb("click",(function(){o.Wb(e);const t=o.Tb();return t.setView(t.Page.DISCUSS)})),o.ac(13,"J'ai compris"),o.Jb(),o.Jb(),o.Jb()}}function l(e,t){if(1&e){const e=o.Lb();o.Kb(0,"div"),o.Kb(1,"h5",7),o.ac(2,"No\xe9mie"),o.Jb(),o.Kb(3,"div"),o.Kb(4,"p",8),o.ac(5,"Dans quel domaine souhaitez-vous progresser ?"),o.Jb(),o.Kb(6,"div",9),o.Rb("click",(function(){return o.Wb(e),o.Tb().startChat("discussion")})),o.Kb(7,"div",10),o.Kb(8,"div",11),o.ac(9,"Comprendre un sujet personnel et obtenir un conseil"),o.Jb(),o.Jb(),o.Jb(),o.Kb(10,"div",12),o.Rb("click",(function(){return o.Wb(e),o.Tb().startChat("day")})),o.Kb(11,"div",10),o.Kb(12,"div",11),o.ac(13,"Challenge du jour"),o.Jb(),o.Jb(),o.Jb(),o.Kb(14,"div",13),o.Rb("click",(function(){return o.Wb(e),o.Tb().startChat("defaut")})),o.Kb(15,"div",10),o.Kb(16,"div",11),o.ac(17,"Mettez le cap sur vos r\xeaves !"),o.Jb(),o.Jb(),o.Jb(),o.Jb(),o.Jb()}}function b(e,t){if(1&e&&(o.Kb(0,"div"),o.Kb(1,"div",15),o.Kb(2,"div",16),o.Kb(3,"div",17),o.ac(4),o.Jb(),o.Kb(5,"div",18),o.Kb(6,"h5",19),o.ac(7),o.Jb(),o.Kb(8,"p",20),o.ac(9,"Temps restant : 24h restantes"),o.Jb(),o.Jb(),o.Jb(),o.Jb(),o.Jb()),2&e){const e=t.index,n=o.Tb(2);o.xb(4),o.cc("Challenge #",n.myChallenges.length-e,""),o.xb(3),o.bc(n.myChallenges[n.myChallenges.length-1-e])}}function g(e,t){if(1&e&&(o.Kb(0,"div"),o.Kb(1,"h5",7),o.ac(2,"Vos challenges"),o.Jb(),o.Kb(3,"p",5),o.ac(4,"Vous pouvez d\xe9placer des montagnes !"),o.Jb(),o.Kb(5,"div"),o.Zb(6,b,10,2,"div",14),o.Jb(),o.Jb()),2&e){const e=o.Tb();o.xb(6),o.Ub("ngForOf",e.myChallenges)}}function f(e,t){if(1&e&&(o.Kb(0,"div"),o.Kb(1,"div",21),o.Kb(2,"div",16),o.Kb(3,"div",17),o.ac(4),o.Jb(),o.Kb(5,"div",18),o.Kb(6,"h5",19),o.ac(7),o.Jb(),o.Kb(8,"p",22),o.ac(9,"Ajouter des notes suppl\xe9mentaires..."),o.Jb(),o.Jb(),o.Jb(),o.Jb(),o.Jb()),2&e){const e=t.index,n=o.Tb(2);o.xb(4),o.cc("Conseil #",n.myAdvices.length-e,""),o.xb(3),o.bc(n.myAdvices[n.myAdvices.length-1-e])}}function u(e,t){if(1&e&&(o.Kb(0,"div"),o.Kb(1,"h5",7),o.ac(2,"Vos tr\xe9sors"),o.Jb(),o.Kb(3,"p",5),o.ac(4,"Retrouvez ici vos pr\xe9cieux conseils"),o.Jb(),o.Kb(5,"div"),o.Zb(6,f,10,2,"div",14),o.Jb(),o.Jb()),2&e){const e=o.Tb();o.xb(6),o.Ub("ngForOf",e.myAdvices)}}function h(e,t){if(1&e&&(o.Kb(0,"span",26),o.ac(1),o.Jb()),2&e){const e=o.Tb(2);o.xb(1),o.bc(e.notificationsChallenge)}}function p(e,t){if(1&e&&(o.Kb(0,"span",26),o.ac(1),o.Jb()),2&e){const e=o.Tb(2);o.xb(1),o.bc(e.notificationsAdivce)}}function v(e,t){if(1&e){const e=o.Lb();o.Kb(0,"div",23),o.Kb(1,"div",24),o.Rb("click",(function(){o.Wb(e);const t=o.Tb();return t.setView(t.Page.DISCUSS)})),o.ac(2," No\xe9mie "),o.Jb(),o.Kb(3,"div",24),o.Rb("click",(function(){o.Wb(e);const t=o.Tb();return t.setView(t.Page.CHALLENGE)})),o.ac(4," Challenges "),o.Zb(5,h,2,1,"span",25),o.Jb(),o.Kb(6,"div",24),o.Rb("click",(function(){o.Wb(e);const t=o.Tb();return t.setView(t.Page.ADVICE)})),o.ac(7," Tr\xe9sors "),o.Zb(8,p,2,1,"span",25),o.Jb(),o.Jb()}if(2&e){const e=o.Tb();o.xb(1),o.zb("selected",e.view===e.Page.DISCUSS),o.xb(2),o.zb("selected",e.view===e.Page.CHALLENGE),o.xb(2),o.Ub("ngIf",e.notificationsChallenge>0),o.xb(1),o.zb("selected",e.view===e.Page.ADVICE),o.xb(2),o.Ub("ngIf",e.notificationsAdivce>0)}}function m(e,t){1&e&&(o.Kb(0,"div"),o.Ib(1,"df-messenger",27),o.Jb())}function x(e,t){1&e&&(o.Kb(0,"div"),o.Ib(1,"df-messenger",28),o.Jb())}function y(e,t){1&e&&(o.Kb(0,"div"),o.Ib(1,"df-messenger",29),o.Jb())}var C=function(e){return e[e.INTRODUCTION=0]="INTRODUCTION",e[e.DISCUSS=1]="DISCUSS",e[e.CHALLENGE=2]="CHALLENGE",e[e.ADVICE=3]="ADVICE",e}({});let J=(()=>{class e{constructor(){this.Page=C,this.chat="",this.advicesToAsk=2,this.view=C.INTRODUCTION,this.notificationsAdivce=0,this.notificationsChallenge=0,this.botAskingAdviceIndex=0,this.botAskingChallengeIndex=0,this.myAdvices=[],this.myChallenges=["aaaaa aaa aa"]}ngOnInit(){this.initLocalStorage()}initLocalStorage(){this.notificationsAdivce=+localStorage.getItem("notificationsAdivce")||0,this.notificationsChallenge=+localStorage.getItem("notificationsChallenge")||0,this.myAdvices=JSON.parse(localStorage.getItem("myAdvices"))||[],this.myChallenges=JSON.parse(localStorage.getItem("myChallenges"))||[]}saveAllToLocalStorage(){localStorage.setItem("notificationsAdivce",String(this.notificationsAdivce)),localStorage.setItem("notificationsChallenge",String(this.notificationsChallenge)),localStorage.setItem("myAdvices",JSON.stringify(this.myAdvices)),localStorage.setItem("myChallenges",JSON.stringify(this.myChallenges))}dfMessengerInit(){this.lastRequestSent=[],this.lastResponseReceived=[],this.setMessengerStyle(),this.subscribeToMessengerEvents()}setMessengerStyle(){const e=document.querySelector("df-messenger").shadowRoot,t=e.querySelector("df-messenger-chat").shadowRoot.querySelector("df-message-list").shadowRoot.querySelector(".message-list-wrapper");console.log("bgElement",t),t.style.background='url("assets/images/psy.jpg") no-repeat center center fixed',t.style.height="100%",t.style.overflow="hidden",t.style["background-size"]="cover";const n=e.querySelector("#widgetIcon");console.log("icon",n),n.style.display="none"}subscribeToMessengerEvents(){let e=this;const t=document.querySelector("df-messenger");t.addEventListener("df-response-received",(function(t){const n=JSON.parse(JSON.stringify(t.detail.response));e.lastResponseReceived.push(n),console.log("_this.lastResponseReceived",this),e.handleResponse(n)})),t.addEventListener("df-request-sent",(function(t){const n=JSON.parse(JSON.stringify(t.detail.requestBody));e.lastRequestSent.push(n),console.log("_this.lastRequestSent",e.lastRequestSent)})),t.addEventListener("df-button-clicked",(function(t){console.log("button event"),e.chat="",e.setView(C.DISCUSS)}))}handleResponse(e){e&&e.queryResult&&e.queryResult.action&&e.queryResult.fulfillmentMessages.forEach(e=>{e&&e.payload&&e.payload.advice?(this.myAdvices.push(this.lastRequestSent[this.botAskingAdviceIndex].queryInput.text.text),this.notificationsAdivce++,this.saveAllToLocalStorage()):e&&e.payload&&e.payload.challenge?(this.myChallenges.push(this.lastRequestSent[this.botAskingChallengeIndex].queryInput.text.text),this.notificationsChallenge++,this.saveAllToLocalStorage()):e&&e.payload&&e.payload.askingAdvice?this.botAskingAdviceIndex=this.lastResponseReceived.length-1:e&&e.payload&&e.payload.askingChallenge&&(this.botAskingChallengeIndex=this.lastResponseReceived.length-1)})}initMessengerWhenOpened(){const e=document.querySelector("df-messenger");e?(console.log("messenger",e),this.dfMessengerInit()):setTimeout(()=>this.dfMessengerInit(),100)}startChat(e){this.chat="",setTimeout(()=>{this.chat=e,this.initMessengerWhenOpened()},100)}setView(e){e===C.ADVICE?(this.notificationsAdivce=0,this.saveAllToLocalStorage()):e===C.CHALLENGE&&(this.notificationsChallenge=0,this.saveAllToLocalStorage()),this.scrollToTop(),this.view=e}scrollToTop(){document.getElementById("mainCard").scrollTop=0}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Bb({type:e,selectors:[["app-home"]],decls:10,vars:10,consts:[["id","mainCard",1,"card","main-card","u-width-full"],[1,"card-body","main-card-body"],[4,"ngIf"],["class","navbar u-flex u-flex-center-vt",4,"ngIf"],[1,"card-title","main-card-title","introduction"],[1,"card-text","u-mg-vt-m"],[1,"btn","btn-light","u-mg-vt-s","u-width-full",3,"click"],[1,"card-title","main-card-title"],[1,"card-text","u-mg-vt-s"],[1,"btn","btn3","custom-btn","u-mg-vt-s","u-width-full",3,"click"],[1,"text-bottom-container"],[1,"text-bottom"],[1,"btn","btn4","custom-btn","u-mg-vt-s","u-width-full",3,"click"],[1,"btn","btn2","custom-btn","u-mg-vt-s","u-width-full",3,"click"],[4,"ngFor","ngForOf"],[1,"card","text-white","challenge-card","mb-1"],[1,"challenge-card-panel"],[1,"card-header"],[1,"card-body","card-body-challenge"],[1,"card-title","capitalize"],[1,""],[1,"card","text-white","advice-card","mb-1"],[1,"card-text"],[1,"navbar","u-flex","u-flex-center-vt"],[1,"navbar-item",3,"click"],["class","badge badge-info",4,"ngIf"],[1,"badge","badge-info"],["intent","WELCOME","expand","true","chat-title","No\xe9mie - Me comprendre","agent-id","ff2bb02a-18de-496f-a595-73b9da2382e3","language-code","fr"],["intent","WELCOME","expand","true","chat-title","No\xe9mie - Le Challenge du jour","agent-id","7c52b852-101d-44b8-9861-cb3b42e09f24","language-code","fr"],["intent","WELCOME","expand","true","chat-title","No\xe9mie - Automatismes","agent-id","bb156c8c-1f33-457c-ad22-8052ab7e305d","language-code","fr"]],template:function(e,t){1&e&&(o.Kb(0,"div",0),o.Kb(1,"div",1),o.Zb(2,d,14,0,"div",2),o.Zb(3,l,18,0,"div",2),o.Zb(4,g,7,1,"div",2),o.Zb(5,u,7,1,"div",2),o.Jb(),o.Jb(),o.Zb(6,v,9,8,"div",3),o.Zb(7,m,2,0,"div",2),o.Zb(8,x,2,0,"div",2),o.Zb(9,y,2,0,"div",2)),2&e&&(o.zb("introduction",t.view===t.Page.INTRODUCTION),o.xb(2),o.Ub("ngIf",t.view===t.Page.INTRODUCTION),o.xb(1),o.Ub("ngIf",t.view===t.Page.DISCUSS),o.xb(1),o.Ub("ngIf",t.view===t.Page.CHALLENGE),o.xb(1),o.Ub("ngIf",t.view===t.Page.ADVICE),o.xb(1),o.Ub("ngIf",t.view!==t.Page.INTRODUCTION),o.xb(1),o.Ub("ngIf","defaut"===t.chat),o.xb(1),o.Ub("ngIf","day"===t.chat),o.xb(1),o.Ub("ngIf","discussion"===t.chat))},directives:[i.i,i.h],styles:['[_ngcontent-%COMP%]:root{--white:#fff;--black:#1e1c20;--red-default:#ff6161;--orange-default:#e86f00;--yellow-default:#f2c94c;--blue-default:#0088ce;--green-default:#3db71f;--purple-default:#c54dfd;--grey10:#2c2b28;--grey15:#323232;--grey20:#5c5b57;--grey30:#747678;--grey40:#afaba5;--grey60:#cdd0d1;--grey80:#f2f2f2;--grey90:#f7f7f7;--text-color:#484848;--ion-color-primary:var(--blue-default);--ion-color-primary-contrast:var(--white);--ion-color-success:#76a973;--ion-color-warning:#ffce00;--ion-color-danger:#f04141;--ion-color-dark:var(--grey10);--ion-color-dark-contrast:var(--white);--light-gradient:153.43deg,var(--white) 0%,var(--grey80) 100%;--dark-gradient:153.43deg,#414141 0%,var(--black) 100%;--font-family-base:"Roboto",sans-serif;--font-family-heading:var(--font-family-base);--ion-font-family:var(--font-family-base);--line-height-base:1.5;--font-size-xxs:8px;--font-size-xs:12px;--font-size-s:16px;--font-size-m:20px;--font-size-l:24px;--font-size-xl:28px;--font-size-xxl:32px;--font-size-base:var(--font-size-s);--font-size-base-ecran4k:var(--font-size-xxl);--font-weight-light:300;--font-weight-regular:400;--font-weight-medium:500;--font-weight-semibold:600;--font-weight-bold:700;--link-text-color:currentColor;--link-text-decoration:none;--link-hover-color:var(--primary-color);--link-hover-decoration:none;--heading-h1-size:var(--font-size-xl);--heading-h2-size:var(--font-size-l);--heading-h3-size:var(--font-size-m);--heading-h4-size:var(--font-size-s);--space-xxs:2px;--space-xs:5px;--space-s:8px;--space-m:16px;--space-l:32px;--space-xl:48px;--space-xxl:64px;--space-default:var(--space-m);--size-25:25%;--size-50:50%;--size-75:75%;--size-100:100%;--container-sm:540px;--container-md:720px;--container-lg:960px;--container-xl:1140px;--container-xxl:1260px;--transition-time-default:0.2s;--transition-easing-default:ease-in-out;--transition-default:var(--transition-time-default) var(--transition-easing-default);--transition-time-precision:0.2s;--transition-easing-precision:ease-in-out;--transition-precision:var(--transition-time-precision) var(--transition-easing-precision);--transition-time-confort:0.5s;--transition-easing-confort:ease-in-out;--transition-confort:var(--transition-time-confort) var(--transition-easing-confort);--border-radius-base:4px;--border-radius-s:2px;--border-radius-m:6px;--border-radius-l:8px;--border-radius-xl:10px;--border-radius-xxl:20px;--shadow-default:0 2px 5px 0 rgba(0,0,0,0.05);--html-font-size-root-mobile:var(--font-size-base) - 2;--html-font-size-root:var(--font-size-base);--html-font-size-root-ecran4k:var(--font-size-base-ecran4k);--body-background:Window;--body-line-height:var(--line-height-base);--body-font-family:var(--font-family-base);--body-color:var(--text-color);--ion-background-color:var(--grey80);--ion-text-color:var(--body-color);--hr-margin-top:var(--space-s);--hr-margin-bottom:var(--space-s);--hr-size:1px;--hr-color:var(--grey60);--z-index-header:1}.main-card[_ngcontent-%COMP%]{background:url(psy.3500bf774bfb2e570171.jpg) no-repeat 50% fixed;background-size:cover;background-color:#f7f7f7;height:calc(100% - 45px);width:100%;overflow:auto}.main-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{background:linear-gradient(0deg,#233867 35%,rgba(0,0,0,.0001));min-height:auto}.main-card[_ngcontent-%COMP%]   .card-body-challenge[_ngcontent-%COMP%]{background:transparent}.main-card[_ngcontent-%COMP%]   .challenge-card-panel[_ngcontent-%COMP%]{background:linear-gradient(0deg,rgba(0,0,0,.45),transparent)}.main-card.introduction[_ngcontent-%COMP%]{height:100%}.main-card[_ngcontent-%COMP%]   .main-card-title[_ngcontent-%COMP%]{color:#fff;font-weight:700;margin-left:60px;margin-right:60px;border-radius:25px;text-align:center;height:100%;margin-bottom:35vh}.main-card[_ngcontent-%COMP%]   .main-card-title.introduction[_ngcontent-%COMP%]{margin-bottom:100px}.main-card[_ngcontent-%COMP%]   .card-text[_ngcontent-%COMP%]{color:#fff;background-color:rgba(0,0,0,.3);border-radius:20px;padding:15px}.challenge-card[_ngcontent-%COMP%]{background-color:#244d74;background:url(challenge2.837ce07311785d4d36dc.jpg) no-repeat 50% fixed;background-size:cover}.advice-card[_ngcontent-%COMP%]{background-color:#244d74;background:url(advice.5d1d09cf2fda34673352.jpg) no-repeat 50% fixed;background-size:cover}.custom-btn[_ngcontent-%COMP%]{text-align:left;background-repeat:no-repeat;background-position:100%;font-weight:510;height:150px;padding:0;border-radius:20px;color:#fff;border:1px solid grey;background-size:cover}.text-bottom-container[_ngcontent-%COMP%]{background:linear-gradient(0deg,#233867,rgba(35,56,103,.1) 70%);height:100%;border-radius:20px;position:relative}.text-bottom[_ngcontent-%COMP%]{position:absolute;bottom:10px;padding:0 20px}.btn1[_ngcontent-%COMP%]{background-color:#8f98ff}.btn2[_ngcontent-%COMP%]{background-image:url(btn2.49e96b0479fe54cd6f82.jpg)}.btn3[_ngcontent-%COMP%]{background-image:url(btn3.d856eeed377414252a54.jpg)}.btn4[_ngcontent-%COMP%]{background-image:url(btn4.224f79a016c95ddeb8f6.jpg)}.navbar[_ngcontent-%COMP%]{position:absolute;bottom:0;height:60px;width:100%;background:linear-gradient(0deg,#3e3a7f,#3b87ba);background-color:#0a345a;justify-content:space-around;border-radius:20px 20px 0 0}.nav-icon[_ngcontent-%COMP%]{height:21px;margin:auto}.navbar-item[_ngcontent-%COMP%]{color:grey}.navbar-item.selected[_ngcontent-%COMP%]{color:#fff}.hidden[_ngcontent-%COMP%]{display:none}.capitalize[_ngcontent-%COMP%]:first-letter{text-transform:capitalize}']}),e})(),k=(()=>{class e{}return e.\u0275mod=o.Fb({type:e}),e.\u0275inj=o.Eb({factory:function(t){return new(t||e)},imports:[[i.b,r,c.b.forChild([{path:"",component:J}])]]}),e})()}}]);