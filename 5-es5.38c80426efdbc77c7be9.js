!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function n(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"99Un":function(t,i,a){"use strict";a.r(i),a.d(i,"HomePageModule",(function(){return A}));var o=a("ofXK"),r=a("fXoL");a("HDdC"),a("DH7j"),a("lJxs"),a("XoHu"),a("Cfvw");var s,c,l,d=((l=function(){function t(){e(this,t),this._accessors=[]}return n(t,[{key:"add",value:function(e,t){this._accessors.push([e,t])}},{key:"remove",value:function(e){for(var t=this._accessors.length-1;t>=0;--t)if(this._accessors[t][1]===e)return void this._accessors.splice(t,1)}},{key:"select",value:function(e){var t=this;this._accessors.forEach((function(n){t._isSameGroup(n,e)&&n[1]!==e&&n[1].fireUncheck(e.value)}))}},{key:"_isSameGroup",value:function(e,t){return!!e[0].control&&e[0]._parent===t._control._parent&&e[1].name===t.name}}]),t}()).\u0275fac=function(e){return new(e||l)},l.\u0275prov=r.Db({token:l,factory:l.\u0275fac}),l),b=((c=function t(){e(this,t)}).\u0275mod=r.Fb({type:c}),c.\u0275inj=r.Eb({factory:function(e){return new(e||c)}}),c),g=((s=function t(){e(this,t)}).\u0275mod=r.Fb({type:s}),s.\u0275inj=r.Eb({factory:function(e){return new(e||s)},providers:[d],imports:[b]}),s),u=a("tyNb");function f(e,t){if(1&e){var n=r.Lb();r.Kb(0,"div"),r.Kb(1,"h5",4),r.ac(2,"Introduction"),r.Jb(),r.Kb(3,"div"),r.Kb(4,"p",5),r.ac(5,"Vivre une vie \xe9panouie, c'est possible."),r.Jb(),r.Kb(6,"p",5),r.ac(7,"Vous avez d\xe9j\xe0 les r\xe9ponses aux probl\xe9matiques de votre vie quotidienne. "),r.Jb(),r.Kb(8,"p",5),r.ac(9,"Vous avez simplement besoin qu'on vous pose les bonnes questions."),r.Jb(),r.Kb(10,"p",5),r.ac(11,"Bonne nouvelle : je vais vous aider !"),r.Jb(),r.Kb(12,"a",6),r.Rb("click",(function(){r.Wb(n);var e=r.Tb();return e.setView(e.Page.DISCUSS)})),r.ac(13,"J'ai compris"),r.Jb(),r.Jb(),r.Jb()}}function v(e,t){if(1&e){var n=r.Lb();r.Kb(0,"div"),r.Kb(1,"h5",7),r.ac(2,"No\xe9mie"),r.Jb(),r.Kb(3,"div"),r.Kb(4,"p",8),r.ac(5,"Dans quel domaine souhaitez-vous progresser ?"),r.Jb(),r.Kb(6,"div",9),r.Rb("click",(function(){return r.Wb(n),r.Tb().startChat("discussion")})),r.Kb(7,"div",10),r.Kb(8,"div",11),r.ac(9,"Comprendre un sujet personnel et obtenir un conseil"),r.Jb(),r.Jb(),r.Jb(),r.Kb(10,"div",12),r.Rb("click",(function(){return r.Wb(n),r.Tb().startChat("day")})),r.Kb(11,"div",10),r.Kb(12,"div",11),r.ac(13,"Challenge du jour"),r.Jb(),r.Jb(),r.Jb(),r.Kb(14,"div",13),r.Rb("click",(function(){return r.Wb(n),r.Tb().startChat("defaut")})),r.Kb(15,"div",10),r.Kb(16,"div",11),r.ac(17,"Mettez le cap sur vos r\xeaves !"),r.Jb(),r.Jb(),r.Jb(),r.Jb(),r.Jb()}}function h(e,t){if(1&e&&(r.Kb(0,"div"),r.Kb(1,"div",15),r.Kb(2,"div",16),r.Kb(3,"div",17),r.ac(4),r.Jb(),r.Kb(5,"div",18),r.Kb(6,"h5",19),r.ac(7),r.Jb(),r.Kb(8,"p",20),r.ac(9,"Temps restant : 24h restantes"),r.Jb(),r.Jb(),r.Jb(),r.Jb(),r.Jb()),2&e){var n=t.index,i=r.Tb(2);r.xb(4),r.cc("Challenge #",i.myChallenges.length-n,""),r.xb(3),r.bc(i.myChallenges[i.myChallenges.length-1-n])}}function p(e,t){if(1&e&&(r.Kb(0,"div"),r.Kb(1,"h5",7),r.ac(2,"Vos challenges"),r.Jb(),r.Kb(3,"p",5),r.ac(4,"Vous pouvez d\xe9placer des montagnes !"),r.Jb(),r.Kb(5,"div"),r.Zb(6,h,10,2,"div",14),r.Jb(),r.Jb()),2&e){var n=r.Tb();r.xb(6),r.Ub("ngForOf",n.myChallenges)}}function m(e,t){if(1&e&&(r.Kb(0,"div"),r.Kb(1,"div",21),r.Kb(2,"div",16),r.Kb(3,"div",17),r.ac(4),r.Jb(),r.Kb(5,"div",18),r.Kb(6,"h5",19),r.ac(7),r.Jb(),r.Kb(8,"p",22),r.ac(9,"Ajouter des notes suppl\xe9mentaires..."),r.Jb(),r.Jb(),r.Jb(),r.Jb(),r.Jb()),2&e){var n=t.index,i=r.Tb(2);r.xb(4),r.cc("Conseil #",i.myAdvices.length-n,""),r.xb(3),r.bc(i.myAdvices[i.myAdvices.length-1-n])}}function x(e,t){if(1&e&&(r.Kb(0,"div"),r.Kb(1,"h5",7),r.ac(2,"Vos tr\xe9sors"),r.Jb(),r.Kb(3,"p",5),r.ac(4,"Retrouvez ici vos pr\xe9cieux conseils"),r.Jb(),r.Kb(5,"div"),r.Zb(6,m,10,2,"div",14),r.Jb(),r.Jb()),2&e){var n=r.Tb();r.xb(6),r.Ub("ngForOf",n.myAdvices)}}function y(e,t){if(1&e&&(r.Kb(0,"span",26),r.ac(1),r.Jb()),2&e){var n=r.Tb(2);r.xb(1),r.bc(n.notificationsChallenge)}}function C(e,t){if(1&e&&(r.Kb(0,"span",26),r.ac(1),r.Jb()),2&e){var n=r.Tb(2);r.xb(1),r.bc(n.notificationsAdivce)}}function k(e,t){if(1&e){var n=r.Lb();r.Kb(0,"div",23),r.Kb(1,"div",24),r.Rb("click",(function(){r.Wb(n);var e=r.Tb();return e.setView(e.Page.DISCUSS)})),r.ac(2," No\xe9mie "),r.Jb(),r.Kb(3,"div",24),r.Rb("click",(function(){r.Wb(n);var e=r.Tb();return e.setView(e.Page.CHALLENGE)})),r.ac(4," Challenges "),r.Zb(5,y,2,1,"span",25),r.Jb(),r.Kb(6,"div",24),r.Rb("click",(function(){r.Wb(n);var e=r.Tb();return e.setView(e.Page.ADVICE)})),r.ac(7," Tr\xe9sors "),r.Zb(8,C,2,1,"span",25),r.Jb(),r.Jb()}if(2&e){var i=r.Tb();r.xb(1),r.zb("selected",i.view===i.Page.DISCUSS),r.xb(2),r.zb("selected",i.view===i.Page.CHALLENGE),r.xb(2),r.Ub("ngIf",i.notificationsChallenge>0),r.xb(1),r.zb("selected",i.view===i.Page.ADVICE),r.xb(2),r.Ub("ngIf",i.notificationsAdivce>0)}}function J(e,t){1&e&&(r.Kb(0,"div"),r.Ib(1,"df-messenger",27),r.Jb())}function I(e,t){1&e&&(r.Kb(0,"div"),r.Ib(1,"df-messenger",28),r.Jb())}function w(e,t){1&e&&(r.Kb(0,"div"),r.Ib(1,"df-messenger",29),r.Jb())}var S,O,K=function(e){return e[e.INTRODUCTION=0]="INTRODUCTION",e[e.DISCUSS=1]="DISCUSS",e[e.CHALLENGE=2]="CHALLENGE",e[e.ADVICE=3]="ADVICE",e}({}),z=((O=function(){function t(){e(this,t),this.Page=K,this.chat="",this.advicesToAsk=2,this.view=K.INTRODUCTION,this.notificationsAdivce=0,this.notificationsChallenge=0,this.botAskingAdviceIndex=0,this.botAskingChallengeIndex=0,this.myAdvices=[],this.myChallenges=["aaaaa aaa aa"]}return n(t,[{key:"ngOnInit",value:function(){this.initLocalStorage()}},{key:"initLocalStorage",value:function(){this.notificationsAdivce=+localStorage.getItem("notificationsAdivce")||0,this.notificationsChallenge=+localStorage.getItem("notificationsChallenge")||0,this.myAdvices=JSON.parse(localStorage.getItem("myAdvices"))||[],this.myChallenges=JSON.parse(localStorage.getItem("myChallenges"))||[]}},{key:"saveAllToLocalStorage",value:function(){localStorage.setItem("notificationsAdivce",String(this.notificationsAdivce)),localStorage.setItem("notificationsChallenge",String(this.notificationsChallenge)),localStorage.setItem("myAdvices",JSON.stringify(this.myAdvices)),localStorage.setItem("myChallenges",JSON.stringify(this.myChallenges))}},{key:"dfMessengerInit",value:function(){this.lastRequestSent=[],this.lastResponseReceived=[],this.setMessengerStyle(),this.subscribeToMessengerEvents()}},{key:"setMessengerStyle",value:function(){var e=document.querySelector("df-messenger").shadowRoot,t=e.querySelector("df-messenger-chat").shadowRoot.querySelector("df-message-list").shadowRoot.querySelector(".message-list-wrapper");console.log("bgElement",t),t.style.background='url("assets/images/psy.jpg") no-repeat center center fixed',t.style.height="100%",t.style.overflow="hidden",t.style["background-size"]="cover";var n=e.querySelector("#widgetIcon");console.log("icon",n),n.style.display="none"}},{key:"subscribeToMessengerEvents",value:function(){var e=this,t=document.querySelector("df-messenger");t.addEventListener("df-response-received",(function(t){var n=JSON.parse(JSON.stringify(t.detail.response));e.lastResponseReceived.push(n),console.log("_this.lastResponseReceived",this),e.handleResponse(n)})),t.addEventListener("df-request-sent",(function(t){var n=JSON.parse(JSON.stringify(t.detail.requestBody));e.lastRequestSent.push(n),console.log("_this.lastRequestSent",e.lastRequestSent)})),t.addEventListener("df-button-clicked",(function(t){console.log("button event"),e.chat="",e.setView(K.DISCUSS)}))}},{key:"handleResponse",value:function(e){var t=this;e&&e.queryResult&&e.queryResult.action&&e.queryResult.fulfillmentMessages.forEach((function(e){e&&e.payload&&e.payload.advice?(t.myAdvices.push(t.lastRequestSent[t.botAskingAdviceIndex].queryInput.text.text),t.notificationsAdivce++,t.saveAllToLocalStorage()):e&&e.payload&&e.payload.challenge?(t.myChallenges.push(t.lastRequestSent[t.botAskingChallengeIndex].queryInput.text.text),t.notificationsChallenge++,t.saveAllToLocalStorage()):e&&e.payload&&e.payload.askingAdvice?t.botAskingAdviceIndex=t.lastResponseReceived.length-1:e&&e.payload&&e.payload.askingChallenge&&(t.botAskingChallengeIndex=t.lastResponseReceived.length-1)}))}},{key:"initMessengerWhenOpened",value:function(){var e=this,t=document.querySelector("df-messenger");t?(console.log("messenger",t),this.dfMessengerInit()):setTimeout((function(){return e.dfMessengerInit()}),100)}},{key:"startChat",value:function(e){var t=this;this.chat="",setTimeout((function(){t.chat=e,t.initMessengerWhenOpened()}),100)}},{key:"setView",value:function(e){e===K.ADVICE?(this.notificationsAdivce=0,this.saveAllToLocalStorage()):e===K.CHALLENGE&&(this.notificationsChallenge=0,this.saveAllToLocalStorage()),this.scrollToTop(),this.view=e}},{key:"scrollToTop",value:function(){document.getElementById("mainCard").scrollTop=0}}]),t}()).\u0275fac=function(e){return new(e||O)},O.\u0275cmp=r.Bb({type:O,selectors:[["app-home"]],decls:10,vars:10,consts:[["id","mainCard",1,"card","main-card","u-width-full"],[1,"card-body","main-card-body"],[4,"ngIf"],["class","navbar u-flex u-flex-center-vt",4,"ngIf"],[1,"card-title","main-card-title","introduction"],[1,"card-text","u-mg-vt-m"],[1,"btn","btn-light","u-mg-vt-s","u-width-full",3,"click"],[1,"card-title","main-card-title"],[1,"card-text","u-mg-vt-s"],[1,"btn","btn3","custom-btn","u-mg-vt-s","u-width-full",3,"click"],[1,"text-bottom-container"],[1,"text-bottom"],[1,"btn","btn4","custom-btn","u-mg-vt-s","u-width-full",3,"click"],[1,"btn","btn2","custom-btn","u-mg-vt-s","u-width-full",3,"click"],[4,"ngFor","ngForOf"],[1,"card","text-white","challenge-card","mb-1"],[1,"challenge-card-panel"],[1,"card-header"],[1,"card-body","card-body-challenge"],[1,"card-title","capitalize"],[1,""],[1,"card","text-white","advice-card","mb-1"],[1,"card-text"],[1,"navbar","u-flex","u-flex-center-vt"],[1,"navbar-item",3,"click"],["class","badge badge-info",4,"ngIf"],[1,"badge","badge-info"],["intent","WELCOME","expand","true","chat-title","No\xe9mie - Me comprendre","agent-id","ff2bb02a-18de-496f-a595-73b9da2382e3","language-code","fr"],["intent","WELCOME","expand","true","chat-title","No\xe9mie - Le Challenge du jour","agent-id","7c52b852-101d-44b8-9861-cb3b42e09f24","language-code","fr"],["intent","WELCOME","expand","true","chat-title","No\xe9mie - Automatismes","agent-id","bb156c8c-1f33-457c-ad22-8052ab7e305d","language-code","fr"]],template:function(e,t){1&e&&(r.Kb(0,"div",0),r.Kb(1,"div",1),r.Zb(2,f,14,0,"div",2),r.Zb(3,v,18,0,"div",2),r.Zb(4,p,7,1,"div",2),r.Zb(5,x,7,1,"div",2),r.Jb(),r.Jb(),r.Zb(6,k,9,8,"div",3),r.Zb(7,J,2,0,"div",2),r.Zb(8,I,2,0,"div",2),r.Zb(9,w,2,0,"div",2)),2&e&&(r.zb("introduction",t.view===t.Page.INTRODUCTION),r.xb(2),r.Ub("ngIf",t.view===t.Page.INTRODUCTION),r.xb(1),r.Ub("ngIf",t.view===t.Page.DISCUSS),r.xb(1),r.Ub("ngIf",t.view===t.Page.CHALLENGE),r.xb(1),r.Ub("ngIf",t.view===t.Page.ADVICE),r.xb(1),r.Ub("ngIf",t.view!==t.Page.INTRODUCTION),r.xb(1),r.Ub("ngIf","defaut"===t.chat),r.xb(1),r.Ub("ngIf","day"===t.chat),r.xb(1),r.Ub("ngIf","discussion"===t.chat))},directives:[o.i,o.h],styles:['[_ngcontent-%COMP%]:root{--white:#fff;--black:#1e1c20;--red-default:#ff6161;--orange-default:#e86f00;--yellow-default:#f2c94c;--blue-default:#0088ce;--green-default:#3db71f;--purple-default:#c54dfd;--grey10:#2c2b28;--grey15:#323232;--grey20:#5c5b57;--grey30:#747678;--grey40:#afaba5;--grey60:#cdd0d1;--grey80:#f2f2f2;--grey90:#f7f7f7;--text-color:#484848;--ion-color-primary:var(--blue-default);--ion-color-primary-contrast:var(--white);--ion-color-success:#76a973;--ion-color-warning:#ffce00;--ion-color-danger:#f04141;--ion-color-dark:var(--grey10);--ion-color-dark-contrast:var(--white);--light-gradient:153.43deg,var(--white) 0%,var(--grey80) 100%;--dark-gradient:153.43deg,#414141 0%,var(--black) 100%;--font-family-base:"Roboto",sans-serif;--font-family-heading:var(--font-family-base);--ion-font-family:var(--font-family-base);--line-height-base:1.5;--font-size-xxs:8px;--font-size-xs:12px;--font-size-s:16px;--font-size-m:20px;--font-size-l:24px;--font-size-xl:28px;--font-size-xxl:32px;--font-size-base:var(--font-size-s);--font-size-base-ecran4k:var(--font-size-xxl);--font-weight-light:300;--font-weight-regular:400;--font-weight-medium:500;--font-weight-semibold:600;--font-weight-bold:700;--link-text-color:currentColor;--link-text-decoration:none;--link-hover-color:var(--primary-color);--link-hover-decoration:none;--heading-h1-size:var(--font-size-xl);--heading-h2-size:var(--font-size-l);--heading-h3-size:var(--font-size-m);--heading-h4-size:var(--font-size-s);--space-xxs:2px;--space-xs:5px;--space-s:8px;--space-m:16px;--space-l:32px;--space-xl:48px;--space-xxl:64px;--space-default:var(--space-m);--size-25:25%;--size-50:50%;--size-75:75%;--size-100:100%;--container-sm:540px;--container-md:720px;--container-lg:960px;--container-xl:1140px;--container-xxl:1260px;--transition-time-default:0.2s;--transition-easing-default:ease-in-out;--transition-default:var(--transition-time-default) var(--transition-easing-default);--transition-time-precision:0.2s;--transition-easing-precision:ease-in-out;--transition-precision:var(--transition-time-precision) var(--transition-easing-precision);--transition-time-confort:0.5s;--transition-easing-confort:ease-in-out;--transition-confort:var(--transition-time-confort) var(--transition-easing-confort);--border-radius-base:4px;--border-radius-s:2px;--border-radius-m:6px;--border-radius-l:8px;--border-radius-xl:10px;--border-radius-xxl:20px;--shadow-default:0 2px 5px 0 rgba(0,0,0,0.05);--html-font-size-root-mobile:var(--font-size-base) - 2;--html-font-size-root:var(--font-size-base);--html-font-size-root-ecran4k:var(--font-size-base-ecran4k);--body-background:Window;--body-line-height:var(--line-height-base);--body-font-family:var(--font-family-base);--body-color:var(--text-color);--ion-background-color:var(--grey80);--ion-text-color:var(--body-color);--hr-margin-top:var(--space-s);--hr-margin-bottom:var(--space-s);--hr-size:1px;--hr-color:var(--grey60);--z-index-header:1}.main-card[_ngcontent-%COMP%]{background:url(psy.3500bf774bfb2e570171.jpg) no-repeat 50% fixed;background-size:cover;background-color:#f7f7f7;height:calc(100% - 45px);width:100%;overflow:auto}.main-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{background:linear-gradient(0deg,#233867 35%,rgba(0,0,0,.0001));min-height:auto}.main-card[_ngcontent-%COMP%]   .card-body-challenge[_ngcontent-%COMP%]{background:transparent}.main-card[_ngcontent-%COMP%]   .challenge-card-panel[_ngcontent-%COMP%]{background:linear-gradient(0deg,rgba(0,0,0,.45),transparent)}.main-card.introduction[_ngcontent-%COMP%]{height:100%}.main-card[_ngcontent-%COMP%]   .main-card-title[_ngcontent-%COMP%]{color:#fff;font-weight:700;margin-left:60px;margin-right:60px;border-radius:25px;text-align:center;height:100%;margin-bottom:35vh}.main-card[_ngcontent-%COMP%]   .main-card-title.introduction[_ngcontent-%COMP%]{margin-bottom:100px}.main-card[_ngcontent-%COMP%]   .card-text[_ngcontent-%COMP%]{color:#fff;background-color:rgba(0,0,0,.3);border-radius:20px;padding:15px}.challenge-card[_ngcontent-%COMP%]{background-color:#244d74;background:url(challenge2.837ce07311785d4d36dc.jpg) no-repeat 50% fixed;background-size:cover}.advice-card[_ngcontent-%COMP%]{background-color:#244d74;background:url(advice.5d1d09cf2fda34673352.jpg) no-repeat 50% fixed;background-size:cover}.custom-btn[_ngcontent-%COMP%]{text-align:left;background-repeat:no-repeat;background-position:100%;font-weight:510;height:150px;padding:0;border-radius:20px;color:#fff;border:1px solid grey;background-size:cover}.text-bottom-container[_ngcontent-%COMP%]{background:linear-gradient(0deg,#233867,rgba(35,56,103,.1) 70%);height:100%;border-radius:20px;position:relative}.text-bottom[_ngcontent-%COMP%]{position:absolute;bottom:10px;padding:0 20px}.btn1[_ngcontent-%COMP%]{background-color:#8f98ff}.btn2[_ngcontent-%COMP%]{background-image:url(btn2.49e96b0479fe54cd6f82.jpg)}.btn3[_ngcontent-%COMP%]{background-image:url(btn3.d856eeed377414252a54.jpg)}.btn4[_ngcontent-%COMP%]{background-image:url(btn4.224f79a016c95ddeb8f6.jpg)}.navbar[_ngcontent-%COMP%]{position:absolute;bottom:0;height:60px;width:100%;background:linear-gradient(0deg,#3e3a7f,#3b87ba);background-color:#0a345a;justify-content:space-around;border-radius:20px 20px 0 0}.nav-icon[_ngcontent-%COMP%]{height:21px;margin:auto}.navbar-item[_ngcontent-%COMP%]{color:grey}.navbar-item.selected[_ngcontent-%COMP%]{color:#fff}.hidden[_ngcontent-%COMP%]{display:none}.capitalize[_ngcontent-%COMP%]:first-letter{text-transform:capitalize}']}),O),A=((S=function t(){e(this,t)}).\u0275mod=r.Fb({type:S}),S.\u0275inj=r.Eb({factory:function(e){return new(e||S)},imports:[[o.b,g,u.b.forChild([{path:"",component:z}])]]}),S)}}])}();